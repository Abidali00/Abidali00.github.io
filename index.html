<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Daily Tools Website</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background:#f9f9f9; }
    h1 { text-align:center; margin-bottom:20px; }
    section { background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px; margin-bottom:20px; }
    h2 { margin-top:0; }
    input, select, button, textarea { margin:5px 0; padding:8px; width:100%; max-width:400px; }
    button { cursor:pointer; background:#007bff; color:white; border:none; border-radius:5px; }
    button:hover { background:#0056b3; }
    .result { margin-top:10px; font-weight:bold; }
  </style>
</head>
<body>
  <h1>üåê Daily Tools</h1>

  <!-- Age Calculator -->
  <section>
    <h2>Age Calculator</h2>
    <label>Day:</label><select id="day"></select>
    <label>Month:</label><select id="month"></select>
    <label>Year:</label><select id="year"></select>
    <button onclick="calculateAge()">Calculate Age</button>
    <div id="ageResult" class="result"></div>
  </section>

  <!-- Gold Price -->
  <section>
    <h2>Gold Price</h2>
    <button onclick="getGoldPrice()">Get Gold Price (per 1oz in USD)</button>
    <div id="goldResult" class="result"></div>
  </section>

  <!-- Forex Market -->
  <section>
    <h2>Forex Market Prices</h2>
    <select id="forexPair">
      <option value="USD/EUR">USD/EUR</option>
      <option value="USD/GBP">USD/GBP</option>
      <option value="USD/PKR">USD/PKR</option>
      <option value="USD/JPY">USD/JPY</option>
      <option value="EUR/GBP">EUR/GBP</option>
    </select>
    <button onclick="getForex()">Get Rate</button>
    <div id="forexResult" class="result"></div>
  </section>

  <!-- Crypto Market -->
  <section>
    <h2>Crypto Prices</h2>
    <select id="cryptoSelect">
      <option value="bitcoin">Bitcoin (BTC)</option>
      <option value="ethereum">Ethereum (ETH)</option>
      <option value="litecoin">Litecoin (LTC)</option>
      <option value="dogecoin">Dogecoin (DOGE)</option>
    </select>
    <button onclick="getCrypto()">Get Price</button>
    <div id="cryptoResult" class="result"></div>
  </section>

  <!-- Currency Converter -->
  <section>
    <h2>Currency Converter</h2>
    <input type="number" id="cur_amount" placeholder="Amount" value="1">
    <div>
      <select id="cur_from"></select>
      <select id="cur_to"></select>
    </div>
    <button onclick="convertCurrency()">Convert</button>
    <div id="cur_result" class="result"></div>
  </section>

  <!-- BMI Calculator -->
  <section>
    <h2>BMI Calculator</h2>
    <input type="number" id="weight" placeholder="Weight (kg)">
    <input type="number" id="height" placeholder="Height (cm)">
    <button onclick="calcBMI()">Calculate BMI</button>
    <div id="bmiResult" class="result"></div>
  </section>

  <!-- Word Counter -->
  <section>
    <h2>Word Counter</h2>
    <textarea id="wordText" rows="4" placeholder="Type text here..."></textarea>
    <button onclick="countWords()">Count Words</button>
    <div id="wordResult" class="result"></div>
  </section>

  <!-- Weather -->
  <section>
    <h2>Weather (Worldwide)</h2>
    <input type="text" id="weather_city" placeholder="Enter city (e.g. London)">
    <button onclick="getWeather()">Get Weather</button>
    <div id="weatherResult" class="result"></div>
  </section>

  <!-- Prayer Times -->
  <section>
    <h2>Prayer Times (Worldwide)</h2>
    <input type="text" id="pray_city" placeholder="Enter city (e.g. Karachi)">
    <input type="text" id="pray_country" placeholder="Enter country (e.g. Pakistan)">
    <button onclick="getPrayerTimes()">Get Prayer Times</button>
    <div id="pray_result" class="result"></div>
  </section>

<script>
  // AGE CALCULATOR
  const daySelect=document.getElementById("day"),monthSelect=document.getElementById("month"),yearSelect=document.getElementById("year");
  for(let d=1;d<=31;d++){let o=document.createElement("option");o.value=d;o.textContent=d;daySelect.appendChild(o);}
  const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
  months.forEach((m,i)=>{let o=document.createElement("option");o.value=i;o.textContent=m;monthSelect.appendChild(o);});
  let cy=new Date().getFullYear();
  for(let y=cy;y>=1900;y--){let o=document.createElement("option");o.value=y;o.textContent=y;yearSelect.appendChild(o);}
  function calculateAge(){let d=parseInt(daySelect.value),m=parseInt(monthSelect.value),y=parseInt(yearSelect.value);let dob=new Date(y,m,d);let diff=Date.now()-dob.getTime();let ageDate=new Date(diff);let age=Math.abs(ageDate.getUTCFullYear()-1970);document.getElementById("ageResult").innerText="You are "+age+" years old.";}

  // GOLD PRICE
  async function getGoldPrice(){
    try{
      let res=await fetch("https://www.goldapi.io/api/XAU/USD",{headers:{"x-access-token":"goldapi-1h6061kmgb1gnfe-io"}});
      let data=await res.json();
      if(data.price) document.getElementById("goldResult").innerText=`Gold Price: $${data.price} per oz`;
      else document.getElementById("goldResult").innerText="Error: "+JSON.stringify(data);
    }catch(e){document.getElementById("goldResult").innerText="Error fetching gold price";}
  }

  // FOREX
  async function getForex(){
    let pair=document.getElementById("forexPair").value.split("/");
    let base=pair[0],symbol=pair[1];
    try{
      let res=await fetch(`https://api.exchangerate.host/latest?base=${base}&symbols=${symbol}`);
      let data=await res.json();
      document.getElementById("forexResult").innerText=`1 ${base} = ${data.rates[symbol]} ${symbol}`;
    }catch(e){document.getElementById("forexResult").innerText="Error fetching forex data";}
  }

  // CRYPTO
  async function getCrypto(){
    let crypto=document.getElementById("cryptoSelect").value;
    try{
      let res=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${crypto}&vs_currencies=usd`);
      let data=await res.json();
      document.getElementById("cryptoResult").innerText=`${crypto.toUpperCase()}: $${data[crypto].usd}`;
    }catch(e){document.getElementById("cryptoResult").innerText="Error fetching crypto data";}
  }

  // CURRENCY CONVERTER
  async function populateCurrencies(){
    let from=document.getElementById("cur_from"),to=document.getElementById("cur_to");
    try{
      let res=await fetch("https://api.exchangerate.host/symbols");
      let data=await res.json();
      Object.keys(data.symbols).forEach(sym=>{
        let o1=document.createElement("option"),o2=document.createElement("option");
        o1.value=o2.value=sym;o1.textContent=o2.textContent=sym;
        from.appendChild(o1);to.appendChild(o2);
      });
      from.value="USD";to.value="PKR";
    }catch(e){console.log("Error loading currencies");}
  }
  populateCurrencies();

  async function convertCurrency(){
    let amt=document.getElementById("cur_amount").value;
    let from=document.getElementById("cur_from").value;
    let to=document.getElementById("cur_to").value;
    try{
      let res=await fetch(`https://api.exchangerate.host/convert?from=${from}&to=${to}&amount=${amt}`);
      let data=await res.json();
      document.getElementById("cur_result").innerText=`${amt} ${from} = ${data.result} ${to}`;
    }catch(e){document.getElementById("cur_result").innerText="Error converting currency";}
  }

  // BMI
  function calcBMI(){let w=document.getElementById("weight").value;let h=document.getElementById("height").value/100;let bmi=(w/(h*h)).toFixed(2);document.getElementById("bmiResult").innerText="Your BMI is "+bmi;}

  // WORD COUNTER
  function countWords(){let text=document.getElementById("wordText").value.trim();let words=text?text.split(/\s+/).length:0;document.getElementById("wordResult").innerText=`Word count: ${words}`;}

  // WEATHER (using Open-Meteo)
  async function getWeather(){
    let city=document.getElementById("weather_city").value;
    try{
      let geo=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${city}`);
      let gdata=await geo.json();
      if(!gdata.results){document.getElementById("weatherResult").innerText="City not found";return;}
      let {latitude,longitude}=gdata.results[0];
      let res=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`);
      let data=await res.json();
      document.getElementById("weatherResult").innerText=`Weather in ${city}: ${data.current_weather.temperature}¬∞C, Windspeed ${data.current_weather.windspeed} km/h`;
    }catch(e){document.getElementById("weatherResult").innerText="Error fetching weather";}
  }

  // PRAYER TIMES
  async function getPrayerTimes(){
    let city=document.getElementById("pray_city").value;
    let country=document.getElementById("pray_country").value;
    try{
      let res=await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=2`);
      let data=await res.json();
      if(data.data && data.data.timings){
        let t=data.data.timings;
        document.getElementById("pray_result").innerHTML=`
          <strong>Prayer Times for ${city}, ${country}</strong><br>
          Fajr: ${t.Fajr} <br>
          Dhuhr: ${t.Dhuhr} <br>
          Asr: ${t.Asr} <br>
          Maghrib: ${t.Maghrib} <br>
          Isha: ${t.Isha}`;
      } else {document.getElementById("pray_result").innerText="Could not fetch prayer times";}
    }catch(e){document.getElementById("pray_result").innerText="Error fetching prayer times";}
  }
</script>
</body>
</html>
